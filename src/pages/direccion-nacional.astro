---
import Layout from '../layouts/Layout.astro';
import { ChevronLeftIcon, ShieldCheckIcon, ArchiveBoxIcon, ChartBarIcon, UserGroupIcon, InboxIcon, ScaleIcon, WrenchScrewdriverIcon, CircleStackIcon } from '@heroicons/react/24/solid';
import AreasGabineteTecnico from '../components/AreasGabineteTecnico';

const baseUrl = import.meta.env.BASE_URL;

const seccionesGabinete = [
	{ id: 1, title: 'Ayudantía', icon: UserGroupIcon, desc: 'Apoyo directo al Jefe de Gabinete en la coordinación de actividades y gestión de agenda institucional.' },
	{ id: 2, title: 'Oficina de Partes', icon: InboxIcon, desc: 'Recepción, registro y distribución de documentación oficial y correspondencia institucional.' },
	{ id: 3, title: 'Asesoría Jurídica', icon: ScaleIcon, desc: 'Asesoramiento legal, revisión de contratos y apoyo en procesos administrativos y judiciales.' }
];

const seccionesDepartamentoGestionTecnica = [
	{ 
		id: 1, 
		title: 'Soporte Técnico y Mejora Continua', 
		icon: WrenchScrewdriverIcon,
		desc: 'Optimizamos la experiencia y el rendimiento en el ERP Institucional mediante soporte técnico especializado, capacitación constante y una gestión de mejora continua para garantizar la excelencia operativa.',
	},
	{ 
		id: 2, 
		title: 'Datos Maestros y Gestión Técnica', 
		icon: CircleStackIcon,
		desc: 'Garantizamos la integridad y excelencia del ERP Institucional mediante una gobernanza de datos rigurosa, optimizando flujos estratégicos y asegurando información confiable para la toma de decisiones.',
	}
];

const areasGabineteTecnico = [
	{ 
		id: 1, 
		title: 'Control y Gestión de Materias Estratégicas', 
		nombreJefe: 'Cristian Rojas Castillo', 
		fotoJefe: 'hero_estrategia.png', 
		desc: 'Garantizamos la vanguardia y continuidad operativa institucional mediante el monitoreo estratégico y la supervisión técnica de proyectos tecnológicos, telecomunicaciones y equipamiento de alta especialización.',
		responsabilidades: [
		 
		],
		contactoAnexo: '2001'
	},
	{ 
		id: 2, 
		title: 'Control y Gestión de Cadena de Suministros', 
		nombreJefe: 'Mauricio Avendaño Pinto', 
		fotoJefe: 'hero_suministro.png', 
		desc: 'Impulsamos la excelencia institucional mediante una gestión estratégica y eficiente de los recursos, integrando el control logístico, presupuestario y de proyectos para asegurar el cumplimiento riguroso de nuestra misión.',
		responsabilidades: [
			'Control y gestión en el levantamiento de necesidades de bienes y servicios',
			'Seguimiento de Proyectos estratégicos Institucionales',
			'Optimización de la Cadena de Suministro',
			'Gestión del Plan Anual de Compras (PAC)',
            'Convenios de Transferencia.'
		],
		contactoAnexo: '2002'
	},
	{ 
		id: 3, 
		title: 'Control y Gestión de Infraestructura', 
		nombreJefe: 'Jorge Gonzalez Olea', 
		fotoJefe: 'hero_estructura.png', 
		desc: 'Garantizamos la excelencia en la infraestructura institucional mediante la supervisión técnica y presupuestaria de proyectos de construcción, mantenimiento y optimización de cuarteles a nivel nacional.',
		responsabilidades: [
 
		],
		contactoAnexo: '2003'
	},
    { 
		id: 4, 
		title: 'Control y Gestión Financiero', 
		nombreJefe: 'Cesar Salgado', 
		fotoJefe: 'hero.png', 
		desc: 'Brindamos asesoría financiera y presupuestaria estratégica a la alta dirección, coordinando el análisis y seguimiento de los procesos para garantizar una gestión de recursos eficiente, transparente y oportuna en apoyo a la función policial.',
		responsabilidades: [
 
		],
		contactoAnexo: '2004'
	}
];
---

<Layout>
	
	
	<!-- Sección de detalle de la Dirección Nacional -->
	<section class="bg-gradient-to-br from-gray-50 to-white relative overflow-hidden pt-24">
		<!-- Botón de regreso -->
		<div class="mx-auto px-8 md:px-8 pt-4 md:pt-8 absolute top-0 left-0">
			<a 
				href={`${baseUrl}`}
				class="inline-flex items-center gap-2 px-4 py-4 bg-gradient-to-r from-primary-green to-secondary-green text-white font-extrabold rounded-full shadow-lg hover:shadow-xl hover:from-secondary-green hover:to-primary-green transition-all duration-300 hover:scale-105"
			>
			<ChevronLeftIcon className="w-9 h-9 text-white"/>
				<span class="sr-only">Volver al inicio</span>
			</a>
		</div>
		
		<div class="max-w-[1400px] mx-auto px-4 md:px-8 relative z-10 py-8 md:py-16">
			
			{/* Encabezado centrado */}
			<div class="text-center mb-12 animate-fade-in-up animation-delay-200">
				<div class="text-secondary-green font-semibold text-sm uppercase tracking-[2px] mb-2">
					ALTA DIRECCIÓN
				</div>
				<h1 class="text-4xl md:text-5xl font-extrabold text-text-dark mb-4">
					Dirección Nacional de Apoyo a las Operaciones Policiales
				</h1>
				<h2 class="text-2xl md:text-3xl font-bold text-text-dark mb-4">
					General Inspector<br />
					María Teresa Araya Jiménez
				</h2>
				<div class="inline-block px-4 py-1.5 bg-primary-green/10 rounded-full">
					<p class="text-sm font-semibold text-primary-green uppercase tracking-wide">
						Director Nacional de Apoyo a las Operaciones Policiales
					</p>
				</div>
			</div>

			{/* Imagen del Director centrada */}
			<div class="flex justify-center ">
				<div class="animate-fade-in-up relative min-h-[300px] md:min-h-[500px]">
					<div class="relative w-[700px] h-[600px] flex items-center justify-center">
						<img
							src={`${baseUrl}hero_director.png`}
							alt="Director Nacional - Dirección Nacional de Apoyo a las Operaciones Policiales"
							loading="lazy"
							class="absolute top-[45%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-104 h-auto z-10"
							style="
								-webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 97%, rgba(0,0,0,0.8) 99%, rgba(0,0,0,0) 100%);
								mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 95%, rgba(0,0,0,0.3) 98%, rgba(0,0,0,0) 100%);
								-webkit-mask-repeat: no-repeat;
								mask-repeat: no-repeat;
								-webkit-mask-size: 100% 100%;
								mask-size: 100% 100%;
							"
						/>
					</div>
				</div>
			</div>

			{/* Contenido centrado */}
			<div class="max-w-4xl mx-auto space-y-6">

					{/* Descripción */}
					<div class="animate-fade-in-up animation-delay-300">
						<div class="text-center">
							<p class="text-slate-700 leading-relaxed text-2xl">
								"Administramos los recursos tecnológicos y logísticos necesarios para fortalecer la labor de Carabineros en todo el territorio nacional."
							</p>
						</div>
					</div>

					{/* Título de secciones */}
					<div class="animate-fade-in-up animation-delay-400 mt-12">
						<div class="flex items-center gap-3 mb-8">
							<div class="h-px flex-1 bg-gradient-to-r from-gray-100 via-gray-300 to-gray-500"></div>
							<h3 class="text-2xl md:text-3xl font-bold text-text-dark">Departamentos de la Dirección</h3>
							<div class="h-px flex-1 bg-gradient-to-r from-gray-500 via-gray-300 to-gray-100"></div>
						</div>
					</div>

				</div>
			</div>

			{/* Departamentos en grid horizontal - Ocupa todo el ancho */}
			<div class="max-w-[1600px] mx-auto px-4 md:px-8  mb-24">
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					{/* Gabinete */}
					<div class="p-6 rounded-xl bg-white border-2 border-gray-200 shadow-md hover:shadow-xl transition-all duration-300 animate-fade-in-up animation-delay-500 flex flex-col">
						<div class="flex flex-col items-center text-center mb-4">
							<div class="w-48 h-48 rounded-full p-0.5 bg-gradient-to-br from-[#1D7D4D] to-primary-green shadow-lg mb-4">
								<img
									src={`${baseUrl}hero_gabinete.png`}
									alt="Jefe de Gabinete DINAOPERPOL"
									loading="lazy"
									class="w-full h-full object-cover rounded-full border-2 border-white"
								/>
							</div>
							<h4 class="text-xl font-bold text-text-dark mb-1">Gabinete</h4>
							<p class="text-sm text-primary-green font-semibold">Jefe de Gabinete</p>
						</div>
						<p class="text-sm text-slate-700 text-center">Vincular a la Dirección Nacional con las Altas Reparticiones, coordinar el trabajo de las Direcciones dependientes, monitorear la gestión administrativa y supervisar el control de documentación.</p>
						{/* Secciones del Gabinete */}
						<div class="bg-gray-50 rounded-lg p-4 mt-6">
							<p class="text-xs font-semibold text-gray-700 mb-4 text-center">Áreas:</p>
							<div class="space-y-3">
								{seccionesGabinete.map((seccion) => (
									<div key={seccion.id} class="bg-white rounded-lg p-3 border border-gray-200">
										<div class="flex items-start gap-3">
											{/* Icono de la Sección */}
											<div class="w-24 h-24 rounded-full bg-primary-green/10 border-2 border-primary-green/30 flex-shrink-0 flex items-center justify-center">
												<seccion.icon className="w-12 h-12 text-primary-green" />
											</div>
											<div class="flex-1">
												<h5 class="text-xs font-bold text-slate-900 leading-tight mb-1">{seccion.title}</h5>
												<p class="text-xs text-slate-600 mb-2">{seccion.desc}</p>
											</div>
										</div>
									</div>
								))}
							</div>
						</div>
					</div>

					{/* Gabinete Técnico */}
					<div class="p-6 rounded-xl bg-white border-2 border-gray-200 shadow-md hover:shadow-xl transition-all duration-300 animate-fade-in-up animation-delay-600 flex flex-col">
						<div class="flex flex-col items-center text-center mb-4">
							<div class="w-48 h-48 rounded-full p-0.5 bg-gradient-to-br from-[#1D7D4D] to-primary-green shadow-lg mb-4">
								<img
									src={`${baseUrl}hero_gabinete_tecnico.png`}
									alt="Jefe de Gabinete Técnico DINAOPERPOL"
									loading="lazy"
									class="w-full h-full object-cover rounded-full border-2 border-white"
								/>
							</div>
							<h4 class="text-xl font-bold text-text-dark mb-1">Gabinete Técnico</h4>
							<p class="text-sm text-secondary-green font-semibold">Jefe de Gabinete Técnico</p>
						</div>
						<p class="text-sm text-slate-700 text-center">Potenciamos la toma de decisiones estratégicas mediante asesoría técnica especializada en logística, finanzas y tecnología, evaluando proyectos de vanguardia que impulsan el desarrollo y la modernización institucional.</p>
						
						{/* Áreas del Gabinete Técnico */}
						<div class="mt-6">
							<AreasGabineteTecnico areas={areasGabineteTecnico} baseUrl={baseUrl} client:load />
						</div>
					</div>

					{/* Departamento Gestión Técnica */}
					<div class="p-6 rounded-xl bg-white border-2 border-gray-200 shadow-md hover:shadow-xl transition-all duration-300 animate-fade-in-up animation-delay-700 flex flex-col">
						<div class="flex flex-col items-center text-center mb-4">
							<div class="w-48 h-48 rounded-full p-0.5 bg-gradient-to-br from-[#1D7D4D] to-primary-green shadow-lg mb-4">
								<img
									src={`${baseUrl}hero.png`}
									alt="Jefe de Departamento Gestión Técnica DINAOPERPOL"
									loading="lazy"
									class="w-full h-full object-cover rounded-full border-2 border-white"
								/>
							</div>
							<h4 class="text-xl font-bold text-text-dark mb-1">Departamento Gestión Técnica y Mejora Continua</h4>
							<p class="text-sm text-primary-green font-semibold">Jefe de Departamento</p>
						</div>
						<p class="text-sm text-slate-700 text-center">Impulsamos la innovación y modernización institucional para entregar herramientas de vanguardia que fortalezcan la labor diaria de cada carabinero en todo el territorio.</p>
                       				{/* Secciones del Departamento */}
						<div class="bg-gray-50 rounded-lg p-4 mt-6">
							<p class="text-xs font-semibold text-gray-700 mb-4 text-center">Áreas:</p>
							<div class="space-y-3">
								{seccionesDepartamentoGestionTecnica.map((seccion) => (
									<div key={seccion.id} class="bg-white rounded-lg p-3 border border-gray-200">
										<div class="flex items-start gap-3">
											{/* Icono de la Sección */}
											<div class="w-24 h-24 rounded-full bg-primary-green/10 border-2 border-primary-green/30 flex-shrink-0 flex items-center justify-center">
												<seccion.icon className="w-12 h-12 text-primary-green" />
											</div>
											<div class="flex-1">
												<h5 class="text-xs font-bold text-slate-900 leading-tight mb-1">{seccion.title}</h5>
												<p class="text-xs text-slate-600 mb-2">{seccion.desc}</p>
											</div>
										</div>
									</div>
								))}
							</div>
						</div>
					</div>
				</div>
			</div>

				</div>
			</div>
		</div>
	</section>

	
</Layout>

<style>
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in-up {
		animation: fadeInUp 1s ease forwards;
	}

	.animation-delay-200 {
		animation-delay: 0.2s;
		opacity: 0;
	}

	.animation-delay-300 {
		animation-delay: 0.3s;
		opacity: 0;
	}

	.animation-delay-400 {
		animation-delay: 0.4s;
		opacity: 0;
	}

	.animation-delay-500 {
		animation-delay: 0.5s;
		opacity: 0;
	}

	.animation-delay-600 {
		animation-delay: 0.6s;
		opacity: 0;
	}

	.animation-delay-700 {
		animation-delay: 0.7s;
		opacity: 0;
	}
</style>
